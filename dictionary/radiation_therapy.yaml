$schema: "http://json-schema.org/draft-07/schema#"

$id: "radiation_therapy"
title: Radiation therapy
type: object
description: ""
additionalProperties: false

systemProperties:
  - id

required:
  - type
  - submitter_id
  - treatment_submitter_id
  - program

uniqueKeys:
  - [ id ]
  - [ program, submitter_id ]
  - [ program, treatment_submitter_id ]

references:
  - self: [ program, treatment_submitter_id ]
    reference:
      targetEntity: treatment
      targetProperties: [ program, submitter_id ]

properties:
  type:
    enum: [ "radiation_therapy" ]
  id:
    $ref: _definitions#/core/properties/id
  program:
    type: string
  submitter_id:
    $ref: _definitions#/core/properties/submitter_id
    description: "Submitter's radiation therapy ID"
  treatment_submitter_id:
    $ref: _definitions#/core/properties/submitter_id
  radiation_therapy_dosage_units:
    enum: [ $cv(radiation_therapy_dosage_units) ]
  radiation_therapy_dosage:
    type: integer
  anatomical_site_radiation_therapy_administered:
    enum:
      - Head
      - Head-Neck
      - Thorax
      - Spine
      - Extermities
      - Abdomen
      - Pelvis
  radiation_therapy_fractions:
    type: integer
  radiation_therapy_modality:
    enum:
      - Proton
      - Photon
      - Heavy ions
      - External-Beam
      - Brachytherapy
