$schema: "http://dcc.icgc-argo.org/draft-00/schema#"

$id: "radiation_therapy"
title: Radiation therapy
type: object
version: 0
category: clinical
description: ""
additionalProperties: false

systemProperties:
  properties:
    id:  # primary key, defined in 'primaryKey'
      $ref: _definitions#/common/properties/uuid

required:
- type
- submitter_id
- treatment_submitter_id
- program

primaryKey:
  surrogateKey: [ id ]

uniqueKeys:
- [ program, treatment_submitter_id ]  # this makes it one treatmeant can have only one radiation therapy

references:
- selfKey: [ program, treatment_submitter_id ]
  reference:
    targetEntity: treatment
    targetKey: [ program, submitter_id ]

properties:
  type:
    const: "radiation_therapy"
  program:
    $ref: _definitions#/common/properties/program_short_name
  treatment_submitter_id:
    $ref: _definitions#/common/properties/submitter_id
  radiation_therapy_dosage_units:
    type: string
    scriptValidations:
    - "$cv(radiation_therapy_dosage_units)"
  radiation_therapy_dosage:
    type: integer
  anatomical_site_radiation_therapy_administered:
    enum:
    - Head
    - Head-Neck
    - Thorax
    - Spine
    - Extermities
    - Abdomen
    - Pelvis
  radiation_therapy_fractions:
    type: integer
  radiation_therapy_modality:
    enum:
    - Proton
    - Photon
    - Heavy ions
    - External-Beam
    - Brachytherapy
