$schema: "http://json-schema.org/draft-07/schema#"

$id: "exposure"
title: Exposure
type: object
description: ""
additionalProperties: false

systemProperties:
  - id

required:
  - type
  - donor_submitter_id
  - program

uniqueKeys:
  - [ id ]
  - [ program, donor_submitter_id, tobacco_smoking_history_indicator, tobacco_smoking_intensity, alcohol_history, alcohol_history_intensity ]

references:
  - self: [ program, donor_submitter_id ]
    reference:
      targetEntity: donor
      targetProperties: [ program, submitter_id ]

properties:
  type:
    enum: [ "exposure" ]
  id:
    $ref: _definitions#/core/properties/id
  program:
    type: string
  donor_submitter_id:
    $ref: _definitions#/core/properties/submitter_id
  tobacco_smoking_history_indicator:
    enum:
      - Lifelong non-smoker (<100 cigarettes smoked in lifetime)
      - Current smoker (includes daily smokers non-daily/occasional smokers)
      - Current reformed smoker for > 15 years
      - Current reformed smoker for <= 15 years
      - Current reformed smoker, duration not specified
      - Smoking history not documented
  tobacco_smoking_intensity:
    type: integer
  alcohol_history:
    enum:
      - "yes"
      - "no"
      - "Don't know/Not sure"
  alcohol_history_intensity:
    enum:
      - None
      - Social Drinker (> once a month, < once a week)
      - Weekly Drinker (>=1x a week)
      - Daily Drinker
      - Occassional Drinker (< once a month)
      - Not Documented
