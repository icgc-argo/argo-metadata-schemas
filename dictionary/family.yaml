$schema: "http://json-schema.org/draft-07/schema#"

$id: "family"
title: Family
type: object
description: ""
additionalProperties: false

systemProperties:
  - id

required:
  - type
  - donor_submitter_id
  - program

uniqueKeys:
  - [ id ]
  - [ program, donor_submitter_id, donor_has_relative_with_cancer_history, relationship_type, relationship_type_other, relationship_gender, relationship_age, relationship_disease_icd10, relationship_disease ]

references:
  - self: [ program, donor_submitter_id ]
    reference:
      targetEntity: donor
      targetProperties: [ program, submitter_id ]

properties:
  type:
    enum: [ "family" ]
  id:
    $ref: _definitions#/core/properties/id
  program:
    type: string
  donor_submitter_id:
    $ref: _definitions#/core/properties/submitter_id
  donor_has_relative_with_cancer_history:
    enum: [ "$cv(yes_no_unknown)" ]
  relationship_type:
    enum:
      - sibling
      - parent
      - grandparent
      - uncle/aunt
      - cousin
      - other
      - unknown
  relationship_type_other:
    type: string
  relationship_gender:
    enum: [ "male", "female", "unknown" ]
  relationship_age:  # shouldn't this be relationship_age_at_diagnosis
    type: integer
  relationship_disease_icd10:
    enum: [ $cv(disease_icd10_code) ]
  relationship_disease:
    type: string
    description: Disease name of the relative
