$schema: "http://json-schema.org/draft-07/schema#"

$id: "sample"
title: Sample
type: object
description: ""
additionalProperties: false

systemProperties:
  - id

required:
  - type
  - submitter_id
  - specimen_submitter_id
  - program
  - sample_type

uniqueKeys:
  - [ id ]
  - [ program, submitter_id ]

references:
  - selfKey: [ program, specimen_submitter_id ]
    reference:
      targetEntity: specimen  # sample to specimen relationship is many-to-one
      targetKey: [ program, submitter_id ]

properties:
  type:
    enum: [ "sample" ]
  id:
    $ref: _definitions#/core/properties/id
  program:
    type: string
  submitter_id:
    $ref: _definitions#/core/properties/submitter_id
    description: "Submitter's sample ID"
  specimen_submitter_id:
    $ref: _definitions#/core/properties/submitter_id
  sample_type:
    enum: [ $cv(sample_type) ]
  