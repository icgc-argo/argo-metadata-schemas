name: sequencing_experiment
schema:
  type: object
  required:
  - experiment
  - read_group_count
  - read_groups

  properties:

    experiment:
      propertyNames:
        enum: [ submitter_sequencing_experiment_id, platform, platform_model, sequencing_date, library_strategy, sequencing_center ]
      required: [ submitter_sequencing_experiment_id, platform, library_strategy ]
      $ref: ./_defs.yaml#/experiment

    read_group_count:
      type: integer
      minimum: 1

    read_groups:
      type: array
      items:
        type: object
        minItems: 1
        propertyNames:
          enum: [ library_name, platform_unit, is_paired_end, read_length_r1, file_r1, insert_size,
                  read_length_r2, file_r2, sample_barcode, submitter_read_group_id ]
        required: [ library_name, platform_unit, is_paired_end, read_length_r1, file_r1, insert_size,
                    read_length_r2, file_r2, sample_barcode, submitter_read_group_id ]
        $ref: ./_defs.yaml#/read_groups
